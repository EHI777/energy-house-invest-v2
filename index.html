<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Wizualizacja Osiedla 3D</title>
  <style>
    body { margin: 0; }
    canvas { display: block; }
  </style>
</head>
<body>
  <!-- Ładujemy bibliotekę Three.js z CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // Utworzenie sceny, kamery i renderera
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      75,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Mapowanie statusów domów na kolory (w formacie szesnastkowym)
    const houseColorMap = {
      sold: 0xff0000,      // czerwony
      reserved: 0xffff00,  // żółty
      available: 0x00ff00  // zielony
    };

    // Przykładowe dane domów – każdy obiekt zawiera status oraz pozycję
    const housesData = [
      { id: 1, status: 'sold', position: { x: -2, y: 0, z: 0 } },
      { id: 2, status: 'reserved', position: { x: 0, y: 0, z: 0 } },
      { id: 3, status: 'available', position: { x: 2, y: 0, z: 0 } }
    ];

    // Funkcja tworząca dom (reprezentowany jako sześcian) na podstawie danych
    function createHouse(house) {
      // Geometria sześcianu
      const geometry = new THREE.BoxGeometry(1, 1, 1);
      // Materiał z kolorem ustawionym według statusu
      const material = new THREE.MeshBasicMaterial({
        color: houseColorMap[house.status]
      });
      // Utworzenie siatki (mesh) i ustawienie pozycji
      const cube = new THREE.Mesh(geometry, material);
      cube.position.set(house.position.x, house.position.y, house.position.z);
      return cube;
    }

    // Dodajemy wszystkie domy do sceny
    housesData.forEach(house => {
      const houseMesh = createHouse(house);
      scene.add(houseMesh);
    });

    // Ustawiamy pozycję kamery, aby cała scena była widoczna
    camera.position.z = 5;

    // Funkcja animacji
    function animate() {
      requestAnimationFrame(animate);
      // Możesz dodać animację (np. obracanie obiektów) w tym miejscu
      renderer.render(scene, camera);
    }
    animate();

    // Obsługa zmiany rozmiaru okna
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
